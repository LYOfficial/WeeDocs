# 第六章：强加载与弱加载

## 一、区块加载

当你兴冲冲地一路学来，建好了小机器，布置了自动化红石线路，处死和收集部分也整好了，出去溜一圈，兴致勃勃地等待战利品的到来时，你是不是经常有这种感觉：我等了个寂寞……

有的人挂了好久机，上线一看，箱子里空空如也，一切都和上次离开时一样。

这一切，都与一个东西有关：**区块加载**。

## 二、出生点区块

出生点区块是一个神奇的地方，它常年加载，不因玩家的离开而停止加载。

因此，一些长期需要启动的或与出生点生成有关的机器可以放在这里。比如刷铁机、永昼机、混凝土固化机等等。

实际上，出生点区块也是有一定范围的，从内到外，由三层区块包裹而成。

![6-1.webp](https://pic.awa.ms/f/2024/11/20/673d63e0635fa.webp)

这里还是推荐使用 [Chunkbase](https://www.chunkbase.com/apps/slime-finder) 。

![6-2.webp](https://pic.awa.ms/f/2024/11/20/673d63dfe5bc0.webp)

进入后点击 Apps 向下翻找，有个 Spawn Chunks Reader 点击进入。

上传一个地图的 `level.dat` 文件，就可以查看它的出生点区块位置及大小了。

![6-3.webp](https://pic.awa.ms/f/2024/11/20/673d63de78b94.webp)

往下翻找，可以看到这些字样：

> * green chunks are completely active
> * yellow chunks do not trigger entity updates or chunk updates
> * grey chunks are only partially active

这就是本册生电部分的大结局了：**强加载与弱加载**。

## 三、强加载与弱加载

### 0.引入

上面的字样可以这么翻译：

* 绿色的区块处于完全活动状态
* 黄色的区块不会触发实体更新或区块更新
* 灰色的区块仅部分处于活动状态

### 1.强加载区块

用命令 `/setworldspawn ` 可以设置世界出生点，也就是出生点区块的中心位置。

以世界出生点为中心，周围19×19的区块便是强加载区块，在这里。所有游戏内容都能够被运算。

当然，玩家、生物和掉落物也可以加载区块。对于玩家来说，单机模式会加载视距范围内的区块，服务器内加载视距由服务器设置决定。

### 2.弱加载区块

弱加载是什么加载，有多弱？

如上图黄色标注部分，弱加载区块是以世界出生点为中心，21×21区域里的边缘区块。

在这里，区块刻不会运算，实体不会运算，其他的所有的游戏内容都正常运行。

这说明了什么？在弱加载区块会发生这些事情：

* 怪物不会跑来跑去 → 已刷新的怪物不会走入陷阱
* 怪物不会受到伤害 → 无法处死怪物
* 水不会流 → 掉落物无法被水流收集
* 矿车不会移动 → 掉落物无法被漏斗矿车收集

然而，在弱加载区块，红石电路还是可以运行的，而在这之外的上图灰色部分（加载边界）就不能运行了。

## 四、加载与卸载

### 1.强制加载

知道了强加载和弱加载，我们要让机器有效产出，就要保证机器的加载。

以下是几种常见的强制加载方法：

* 漏斗链（1.13-）

![3-1.webp](https://pic.awa.ms/f/2024/11/20/673d635d83415.webp)

还记得我在第三章笑话的这个东西吗？在旧版本中，漏斗链是最暴力最卡顿的加载方法。跑到出生点，从出生点的强加载区块拉出来一条长长的漏斗链，拉到哪里，哪里就强加载了。


* 红石链（1.13-）

同理，通过使用中继器或干脆一串红石火把和红石线的组合，拉一条激活的红石电路，也可以加载到所需的区块。

* 地狱门加载器（1.14+）

这是个硬核的东西，可以做到远程强加载。

B站上有很多教程，不同版本的都有，这里简单列一下：

[【MC|熟肉】1.14/1.15+区块加载原理【gnembon】](https://www.bilibili.com/video/av80668682)


[【MC】1.19简单区块加载器【ilmango】](https://www.bilibili.com/video/BV1HA4y1D7Tj)

### 2.区块卸载

通常来说，玩家离开 12×12 区块，区块会被立刻卸载。

如果此区块被红石信号或正在传递物品的漏斗激活，此区块会弱加载，在 45 秒后会卸载。如果在 45 秒内玩家靠近又离开，该区块立刻卸载。



好了，以上就是本章以及本册的全部内容了，感谢大家一路以来的支持，感兴趣的可以收藏一波，回看PartI《红石·理论基础》或期待接下来的《生电·进阶应用》！